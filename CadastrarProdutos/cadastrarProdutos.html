<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Produto</title>
    <link rel="stylesheet" href="cadastrarProdutos.css">
</head>
<body>

    <div class="container">
        <div class="left-section">
            <a href="../index.html" class="back-link"><button class="back-btn">Voltar</button></a>

            <div class="image-upload">
                <label for="file-input">
                    <img id="product-image" src="../img/dedo.png" alt="Produto" />
                    <div class="edit-icon">
                        <i class="fa fa-pencil"></i>
                    </div>
                </label>
                <input id="file-input" type="file" accept="image/*" onchange="loadFile(event)" />
                <p>Coloque a imagem do produto</p>
            </div>
        </div>

        <div class="right-section">
            <h2>Cadastrar Produto</h2>
            <form id="productForm">
                <input type="text" placeholder="Nome do Responsável" required id="responsavel" />
                <input type="text" placeholder="Razão Social" required id="razaoSocial" />
                <input type="text" placeholder="Nome do Produto" required id="nomeProduto" />
                <input type="text" placeholder="Categoria" required id="categoria" />
                <textarea placeholder="Benefícios" required id="beneficios"></textarea>
                <textarea placeholder="Como usar" required id="comoUsar"></textarea>
                <button type="submit">Enviar produto para análise</button>
            </form>
        </div>
    </div>

    <script>
        const loadFile = (event) => {
            const image = document.getElementById('product-image');
            image.src = URL.createObjectURL(event.target.files[0]);
            // Armazenando a imagem no localStorage (opcional, pois o localStorage não guarda arquivos binários)
            localStorage.setItem("productImage", event.target.files[0].name);
        };

        document.getElementById("productForm").addEventListener("submit", function(e) {
            e.preventDefault();

            // Criando o objeto com os dados do produto
            const productData = {
                responsavel: document.getElementById("responsavel").value,
                razaoSocial: document.getElementById("razaoSocial").value,
                nomeProduto: document.getElementById("nomeProduto").value,
                categoria: document.getElementById("categoria").value,
                beneficios: document.getElementById("beneficios").value,
                comoUsar: document.getElementById("comoUsar").value,
            };

            // Armazenando os dados do produto no localStorage
            localStorage.setItem("productData", JSON.stringify(productData));

            // Redirecionando para a página de análise
            window.location.href = "analise.html";
        });
    </script>

</body>
</html>
